{% extends '../ideas.njk' %}
{% set pageTitle = 'Nieuw idee' %}

{% block head %}
	{{ super() }}
	<link rel="stylesheet" type="text/css" href="/lib/trix/dist/trix.css">
	<style type="text/css">
		textarea {
			border: 1px solid #C0C0C0;
			border-radius: 4px;
			box-sizing: border-box;
			font: inherit;
			padding: 0.4em 0.6em;
			width: 100%;
		}
		textarea[name="summary"] {
			height: 100px;
		}
		textarea[name="description"] {
			height: 300px;
		}
	</style>
{% endblock %}

{% block content %}
<h1>Nieuw idee</h1>

<form method="post" id="js-form">
	Titel: <input type="text" name="title" value="{{idea.title}}"><br>
	
	Samenvatting:<br>
	<textarea name="summary">{{idea.summary}}</textarea><br>
	
	Beschrijving:<br>
	{% if useModernEditor %}
		<input type="hidden" id="js-description" name="description" value="{{idea.description}}">
		<trix-editor id="js-editor" class="userContentEditor" input="js-description"></trix-editor><br>
	{% else %}
		<textarea name="description">{{idea.description}}</textarea>
	{% endif %}
	
	{% if idea %}
	<input type="hidden" name="id" value="{{idea.id}}">
	<input type="hidden" name="_method" value="PUT">
	{% endif %}
	<input type="hidden" name="_csrf" value="{{csrfToken}}">
	
	<input type="submit" value="Opslaan">
</form>
{% endblock %}

{% block footer %}
	<script src="/lib/trix/dist/trix.js"></script>
	<script src="/js/editor.js"></script>
	<script>
		initAttachmentManager(
			document.getElementById('js-form'),
			document.getElementById('js-editor').editor
		);
	</script>
{% endblock %}